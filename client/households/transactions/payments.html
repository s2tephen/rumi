<template name="household_payment_row">
  <tbody class="striped">
  <tr class="payment">
    <td class="payment" colspan=100>
      {{user_email user_id}} paid {{user_email target}} {{amount}}
      {{#if can "update" "expense" this}}
      <div class="pull-right">
        <a class="edit btn btn-xs btn-warning">
          <span class="glyphicon glyphicon-pencil"></span>
        </a>
        <a class="delete btn btn-xs btn-danger">
          <span class="glyphicon glyphicon-remove"></span>
        </a>
      </div>
      {{/if}}
    </td>
  </tr>
  </tbody>
</template>

<template name="household_payment_edit_row">
  <tbody class="striped">
  <tr>
    <td colspan=100>
      {{> household_payment_form_row}}
    </td>
  </tr>
  </tbody>
</template>

<template name="household_add_payment">
  {{> household_expense_row_header}}
  <tr>
    <td colspan=100>
      <form style='display: block' class='form-inline'>
        <div class="form-group">
          {{user_email currentUser._id}}
        </div>
        <div class="form-group">
          <select name="to" class="form-control">
            {{#each user_ids}}
            <option value="{{this}}">paid {{user_email this}}</option>
            {{/each}}
          </select>
        </div>
        <div class="form-group">
          <input type="number" name="amount" placeholder="0.00" class="form-control" />
        </div>
      <input type="submit" value="Save" class="btn btn-success" />
      </form>
    </td>
  </tr>
</template>

<template name="household_payment_form_row">
  <form style="display: block" class="form-inline">
    <div class="form-group">
      {{#if created_at}}
      <input class="hidden" type="number" name="created_at" value="{{created_at}}" />
      {{/if}}
      {{user_email user_id}}
      <input class="hidden" name="user_id" value="{{user_id}}" />
    </div>
    <div class="form-group">
      <select name="to" class="form-control input-sm">
        {{#each user_ids}}
        {{#if selected ..}}
        <option value="{{this}}" selected>paid {{user_email ..}}</option>
        {{else}}
        <option value="{{this}}">paid {{user_email ..}}</option>
        {{/if}}
        {{/each}}
      </select>
    </div>

    <div class="form-group">
      <input type="number" name="amount" placeholder="amount" value="{{amount}}" class="form-control input-sm" />
    </div>
    <button type="submit" class="btn btn-sm btn-success">Save</button>
    {{#if created_at}}
      <a href="#" class="cancel btn btn-default btn-sm">Cancel</a>
    {{/if}}
  </form>
</template>
