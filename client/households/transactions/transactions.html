<template name="transactions">
  {{! this is the main table of transactions.}}
  {{> household_add_transaction}}
  <hr/>

  <table class="table table-striped table-condensed">
    {{#each expenses}}
      {{#if isPayment}}
        {{#if editing}}
          {{> household_payment_edit_row}}
        {{else}}
          {{> household_payment_row}}
        {{/if}}
      {{else}}
        {{#if editing}}
          {{> household_expense_edit_row}}
        {{else}}
          {{> household_expense_row}}
        {{/if}}
      {{/if}}
    {{/each}}
    {{> transactions_balances}}
  </table>
</template>

<template name="transactions_balances">
  <tr><td colspan="100">Balances</td></tr>
  <tr>
    {{#each object balances}}
    <td>
      {{user_email key}}
    </td>
    {{/each}}
  </tr>
  <tr>
    {{#each object balances}}
    <td>
      {{value}}
    </td>
    {{/each}}
  </tr>
</template>

<template name="household_add_transaction">
  <h3>Add Transaction</h3>
  {{#if payment_tab}}
    <ul class="nav nav-tabs">
      <li><a href="#" class="expense-tab">Expense</a></li>
      <li class="active"><a href="#" class="active payment-tab">Payment</a></li>
    </ul>
    {{> household_add_payment}}
  {{else}}
    <ul class="nav nav-tabs">
      <li class="active"><a href="#" class="expense-tab">Expense</a></li>
      <li><a href="#" class="payment-tab">Payment</a></li>
    </ul>
    {{> household_add_expense}}
  {{/if}}
</template>
