<template name="transactions">
  {{! this is the main table of transactions.}}
  
  {{#if payment_tab}}
    <ul class="nav nav-tabs">
      <li><a href="#" class="expense-tab">Add Expense</a></li>
      <li class="active"><a href="#" class="active payment-tab">Add Payment</a></li>
    </ul>
  {{else}}
    <ul class="nav nav-tabs">
      <li class="active"><a href="#" class="expense-tab">Add Expense</a></li>
      <li><a href="#" class="payment-tab">Add Payment</a></li>
    </ul>
  {{/if}}

  <table class="table transaction-table table-bordered">
  {{#if payment_tab}}
    {{> household_add_payment}}
  {{else}}
    {{> household_add_expense}}
  {{/if}}

  <tbody>
    <tr class="transaction-history-header"><td colspan=100>
        <h4>Transaction History</h4>
    </td></tr>

    {{> household_expense_row_header}}
  </tbody>
  {{#each expenses}}
    {{#isolate}}
      {{#if isPayment}}
        {{#if editing}}
          {{> household_payment_edit_row}}
        {{else}}
          {{> household_payment_row}}
        {{/if}}
      {{else}}
        {{#if editing}}
          {{> household_expense_edit_row}}
        {{else}}
          {{> household_expense_row}}
        {{/if}}
      {{/if}}
    {{/isolate}}
  {{/each}}
  </table>
</template>

<template name="transactions_balances">
  <table class="balances-table">
    <tr><th>User</th><th>Balance</th></tr>
      {{#each object balances}}
        <tr>
          <td>
            {{user_email key}}
          </td>
          <td>
            {{owes_or_is_owed value}}
          </td>
        </tr>
      {{/each}}
  </table>
</template>
